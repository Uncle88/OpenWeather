<?xml version="1.0" encoding="utf-8"?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms" 
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml" 
    xmlns:local="clr-namespace:OpenWeather" 
    x:Class="OpenWeather.OpenWeatherView"
    xmlns:weatherVm="clr-namespace:OpenWeather.ViewModels">

    <ContentPage.BindingContext>
    <weatherVm:OpenWeatherViewModel/>
    </ContentPage.BindingContext>

<StackLayout Padding="20,40,20,20">
    <Entry Text="{Binding City, Mode=TwoWay}"
           Placeholder="Search City"/>
    <ActivityIndicator IsRunning="{Binding IsBusy,Mode=TwoWay}"/>
    <StackLayout Orientation="Horizontal">
        <StackLayout HorizontalOptions="CenterAndExpand">
            <Label Text="{Binding WeatherMainModel.name}" FontSize="30" FontAttributes="Bold"/>
        </StackLayout>
    </StackLayout>
        <StackLayout>
            <Grid>
                <Label Text="{Binding WeatherMainModel.main.temp}" FontAttributes="Bold" Font="30" Grid.Row="0" Grid.Column="0" 
                HorizontalOptions="EndAndExpand" VerticalOptions="CenterAndExpand"/>
                <Image Source="{Binding IconImageString}"
                   WidthRequest="70"
                   HeightRequest="70" HorizontalOptions="StartAndExpand" Grid.Row="0" Grid.Column="1"/>
            </Grid>
        </StackLayout>

    <StackLayout Orientation="Horizontal">
        <StackLayout HorizontalOptions="StartAndExpand">
            <Label Text="Country:"/>
        </StackLayout>
        <StackLayout HorizontalOptions="EndAndExpand">
            <Label Text="{Binding WeatherMainModel.sys.country}"/>
        </StackLayout>
    </StackLayout>
    <StackLayout Orientation="Horizontal">
        <StackLayout HorizontalOptions="StartAndExpand">
            <Label Text="Humidity:"/>
        </StackLayout>
    <StackLayout HorizontalOptions="EndAndExpand">
            <Label Text="{Binding WeatherMainModel.main.humidity}"/>
        </StackLayout>
    </StackLayout>

    <StackLayout Orientation="Horizontal">
        <StackLayout HorizontalOptions="StartAndExpand">
            <Label Text="Weather Main Status:"/>
        </StackLayout>
    <StackLayout HorizontalOptions="EndAndExpand">
            <Label Text="{Binding WeatherMainModel.weather[0].main}"/>
        </StackLayout>
    </StackLayout>

    <StackLayout Orientation="Horizontal">
        <StackLayout HorizontalOptions="StartAndExpand">
            <Label Text="Weather Status:"/>
        </StackLayout>
        <StackLayout HorizontalOptions="EndAndExpand">
            <Label Text="{Binding WeatherMainModel.weather[0].description}"/>           
        </StackLayout>
     </StackLayout>
    <StackLayout Orientation="Horizontal">
        <StackLayout HorizontalOptions="StartAndExpand">
            <Label Text="Wind Speed:"/>
        </StackLayout>
        <StackLayout HorizontalOptions="EndAndExpand">
            <Label Text="{Binding WeatherMainModel.wind.speed}"/>
        </StackLayout>
    </StackLayout>
</StackLayout>
    </ContentPage>

     
